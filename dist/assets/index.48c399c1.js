var U=Object.defineProperty,H=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var z=(t,r,n)=>r in t?U(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,y=(t,r)=>{for(var n in r||(r={}))S.call(r,n)&&z(t,n,r[n]);if(E)for(var n of E(r))Y.call(r,n)&&z(t,n,r[n]);return t},x=(t,r)=>H(t,A(r));var N=(t,r)=>{var n={};for(var a in t)S.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&E)for(var a of E(t))r.indexOf(a)<0&&Y.call(t,a)&&(n[a]=t[a]);return n};import{a as I,R as e,r as l,C as w,b as R,F as h,c as L,T as p,S as m,B as b,d as D,e as V,I as C,D as j,f as X,G as Q,H as v,g as Z,t as $,L as W,h as G,i as q,j as K,k as _,l as M}from"./vendor.40741d8a.js";const ee=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};ee();const te="https://coding-challenge-api.aerolab.co/user/me",re="https://coding-challenge-api.aerolab.co/products",ne="https://coding-challenge-api.aerolab.co/user/history",oe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWVhYzcxZWNkZWVjMDAwMWEwNThkYzYiLCJpYXQiOjE2NDI3NzYzNTB9.ZNfBbSO62LgcI6iQbH8YuMPV8jyJYhcyfzpg7hyJFMo",P={"Content-Type":"application/json",Accept:"application/json",Authorization:oe},ae=I.get(te,{headers:P}),ce=I.get(re,{headers:P}),se=I.get(ne,{headers:P}),k=e.createContext({}),ie=({children:t})=>{const[r,n]=l.exports.useState({}),[a,o]=l.exports.useState(!0);if(!r&&a)return e.createElement(w,{padding:12},e.createElement(R,{isIndeterminate:!0,color:"primary.500"}));e.useEffect(()=>{try{ae.then(c=>n(c.data)).catch(c=>console.log(c)),o(!1)}catch(c){console.log(c)}},[]);const s=()=>{fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWVhYzcxZWNkZWVjMDAwMWEwNThkYzYiLCJpYXQiOjE2NDI3NzYzNTB9.ZNfBbSO62LgcI6iQbH8YuMPV8jyJYhcyfzpg7hyJFMo"},referrerPolicy:"same-origin",body:JSON.stringify({amount:1e3})}),n(x(y({},r),{points:r.points+1e3}))},u=c=>{if(!r)return;fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWVhYzcxZWNkZWVjMDAwMWEwNThkYzYiLCJpYXQiOjE2NDI3NzYzNTB9.ZNfBbSO62LgcI6iQbH8YuMPV8jyJYhcyfzpg7hyJFMo"},referrerPolicy:"same-origin",body:JSON.stringify({productId:c.id})}),n(x(y({},r),{redeemHistory:[...r.redeemHistory,c.id],points:r.points-c.cost}))},d={user:r},i={addPoints:s,redeem:u};return e.createElement(k.Provider,{value:{state:d,actions:i}},t)},le=({children:t})=>e.createElement(h,{direction:"column",backgroundColor:"gray.100",flex:1},e.createElement(w,{paddingY:3},e.createElement(L,{maxWidth:"6xl"},t)));var f;(function(t){t.MostRecent="Most Recent",t.LowestPrice="Lowest Price",t.HighestPrice="Highest Price"})(f||(f={}));const J=({current:t,total:r})=>e.createElement(p,{color:"gray.500",fontWeight:"bold",paddingX:1},t," of ",r," products"),de=[f.MostRecent,f.LowestPrice,f.HighestPrice],me=({active:t,onChange:r})=>e.createElement(m,{alignItems:"center",direction:"row",spacing:6},e.createElement(p,{color:"gray.500"},"Sort by: "),e.createElement(m,{direction:"row",spacing:4},de.map(n=>e.createElement(b,{key:n,backgroundColor:n===t?"primary.400":"gray.100",borderRadius:9999,color:n===t?"white":"gray.600",cursor:"pointer",fontWeight:"500",paddingX:6,paddingY:2,onClick:()=>r(n)},n)))),O=({paginate:t})=>e.createElement(h,{fontSize:"4xl",justifyContent:"flex-end",flex:1,paddingX:6},e.createElement(D,{style:{margin:"0 5px"},onClick:()=>t(1)}),e.createElement(V,{style:{margin:"0 5px"},onClick:()=>t(2)}));var B="/assets/coin.b471c109.svg";const ue=a=>{var o=a,{product:t,isSelected:r}=o,n=N(o,["product","isSelected"]);const{state:{user:s},actions:{redeem:u}}=l.exports.useContext(k),d=s.points,i=t.cost<=d,c=()=>{if(i)return u(t)};return e.createElement(b,x(y({},n),{backgroundColor:"white",borderRadius:"sm",boxShadow:"md",padding:6,position:"relative",cursor:i?"pointer":"not-allowed",opacity:i?1:.5}),e.createElement(m,{spacing:3},e.createElement(m,{alignItems:"center",backgroundColor:"white",borderRadius:9999,borderColor:i?"primary.500":"orange.500",borderWidth:1,color:i?"primary.500":"orange.500",direction:"row",fontSize:"sm",fontWeight:"500",justifyContent:"center",paddingX:3,paddingY:1,position:"absolute",right:6,spacing:2,top:6},e.createElement(p,null,i?t.cost:`Missing ${t.cost-d} points`),e.createElement(C,{src:B,width:4,height:4})),e.createElement(w,null,e.createElement(C,{objectFit:"contain",src:t.img.url,width:64})),e.createElement(j,null),e.createElement(m,{alignItems:"flex-start",spacing:0},e.createElement(p,{color:"gray.500",fontSize:"sm"},t.category),e.createElement(p,{fontWeight:"500"},t.name))),r&&e.createElement(h,{alignItems:"center",borderRadius:"sm",height:"100%",justifyContent:"center",position:"absolute",left:0,top:0,width:"100%",zIndex:2},e.createElement(b,{backgroundColor:i?"primary.500":"gray.500",borderRadius:"sm",height:"100%",left:0,opacity:.9,position:"absolute",top:0,width:"100%"}),e.createElement(m,{color:"white",fontSize:"2xl",fontWeight:"bold",spacing:6,zIndex:3},e.createElement(m,{spacing:0},e.createElement(p,null,"You have: ",d),e.createElement(p,{borderBottomColor:"white",borderBottomWidth:2},"Cost: ",t.cost),e.createElement(p,null,"Left: ",d-t.cost)),i&&e.createElement(X,{color:"primary.500",onClick:c},"Redeem Now"))))},T=({products:t})=>{const[r,n]=l.exports.useState(null);let a=0;return e.createElement(Q,{marginTop:2,gap:6,templateColumns:"repeat(auto-fill, minmax(256px, 1fr))",width:"100%"},t.map(o=>e.createElement(ue,{key:`product-${o.id}-${a+=1}`,product:o,isSelected:r===o.id,onClick:()=>n(o.id)})))},ge=({products:t,totalProducts:r,currentPage:n,setCurrentPage:a})=>{const[o,s]=l.exports.useState(f.MostRecent),u={"Highest Price":[...t].sort((c,g)=>g.cost-c.cost),"Lowest Price":[...t].sort((c,g)=>c.cost-g.cost),"Most Recent":t},d=e.useMemo(()=>u[o],[o,t]),i=c=>a(c);return e.createElement(m,{alignItems:"flex-start",spacing:6},e.createElement(m,{alignItems:"center",as:"nav",flexDirection:"row",flex:1,spacing:6,width:"100%",divider:e.createElement(j,{borderColor:"gray.300",height:12,orientation:"vertical"})},e.createElement(J,{current:n*d.length,total:r}),e.createElement(me,{active:o,onChange:s}),e.createElement(O,{paginate:i})),e.createElement(T,{products:d}),e.createElement(h,{justifyContent:"space-between",width:"100%"},e.createElement(J,{current:n*d.length,total:r}),e.createElement(O,{paginate:i})))};var pe="/assets/header.ce3ca7ef.png";const he=()=>{const[t,r]=l.exports.useState([]),[n,a]=l.exports.useState(1),[o]=l.exports.useState(16),[s,u]=l.exports.useState(!0),d=n*o,i=d-o,c=t.slice(i,d);return l.exports.useEffect(()=>{try{setTimeout(()=>{ce.then(g=>{r(g.data),u(!1)}).catch(g=>console.log(g))},1e3)}catch(g){console.log(g)}},[]),s?e.createElement(h,{alignItems:"center",justifyContent:"center",paddingY:12},e.createElement(R,{isIndeterminate:!0,color:"primary.500"})):e.createElement(m,{flex:1,spacing:6},e.createElement(h,{alignItems:"flex-end",backgroundImage:`url(${pe})`,backgroundSize:"cover",borderRadius:"md",justifyContent:"flex-start",minHeight:64,padding:6},e.createElement(v,{color:"white",fontSize:"4xl"},"Electronics")),e.createElement(ge,{products:c,totalProducts:t.length,currentPage:n,setCurrentPage:a}))};var fe=Z({colors:{primary:$.colors.orange}});const Ee=()=>{const[t,r]=l.exports.useState([]),[n,a]=l.exports.useState(!0);return l.exports.useEffect(()=>{try{se.then(o=>r(o.data)),a(!1)}catch(o){console.log(o)}},[]),t?e.createElement(e.Fragment,null,e.createElement(v,{paddingY:2,color:"gray.500",fontSize:"4xl"},"Your redeemed products"),e.createElement(T,{products:t})):e.createElement("h2",null,"You have no current products")};var ye="/assets/logo.ca5f8d57.svg";const xe=()=>{const{state:{user:t},actions:{addPoints:r}}=l.exports.useContext(k);return t?e.createElement(b,{backgroundColor:"white",boxShadow:"md"},e.createElement(L,{maxWidth:"6xl"},e.createElement(m,{alignItems:"center",as:"nav",direction:"row",justifyContent:"space-between",paddingY:3},e.createElement(W,{to:"/"},e.createElement(C,{height:8,width:8,src:ye})),e.createElement(m,{alignItems:"center",color:"gray.500",direction:"row",spacing:3},e.createElement(W,{to:"/myhistory"},e.createElement(p,null,t.name)),e.createElement(m,{alignItems:"center",backgroundColor:"gray.100",borderRadius:9999,cursor:"pointer",direction:"row",paddingX:3,paddingY:2,onClick:()=>r()},e.createElement(p,{fontWeight:"500"},t.points),e.createElement(C,{height:6,width:6,src:B})))))):null};G.render(e.createElement(q,{theme:fe},e.createElement(ie,null,e.createElement(le,null,e.createElement(K,null,e.createElement(xe,null),e.createElement(_,null,e.createElement(M,{path:"/",element:e.createElement(he,null)}),e.createElement(M,{path:"/myhistory",element:e.createElement(Ee,null)})))))),document.getElementById("root"));
